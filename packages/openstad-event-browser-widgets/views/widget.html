<script src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
/>
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet.markercluster@1.5.0/dist/MarkerCluster.css"
/>
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet.markercluster@1.5.0/dist/MarkerCluster.Default.css"
/>
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet.markercluster@1.5.0/dist/leaflet.markercluster.js"></script>
<script src="/modules/@savvycodes/openstad-event-browser-widgets/js/event-browser.js"></script>

<div id="{{ data.widget.containerId }}">
  <div class="openstad-event-browser"></div>
</div>

<script>
  window.addEventListener('load', function() {
    const config = {{ data.widget.config | safe }};
    const elem = document.querySelector('#{{ data.widget.containerId }} .openstad-event-browser');

    savvycodes.OpenstadEventBrowser.renderElement(config, elem);
  })
</script>

{% if data.widget.isDebug %}
<pre>{{ data.widget.config | safe }}</pre>
{% endif %}
